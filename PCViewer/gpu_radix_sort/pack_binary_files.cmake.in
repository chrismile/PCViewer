set(output_file @CMAKE_CURRENT_SOURCE_DIR@/@output_header@)
file(REMOVE ${output_file})
file(WRITE ${output_file} "#pragma once\n")
file(APPEND ${output_file} "#include <string_view>\n")
file(APPEND ${output_file} "namespace @output_namespace_name@ {\n")
set(binary_files @spriv_binary_files@)
foreach(binary_file IN LISTS binary_files)
    file(READ ${binary_file} binary_content HEX)
    string(REGEX REPLACE "([^\n])" "\\\\x\\1" hex_data "${binary_content}")
    get_filename_component(shader_name ${binary_file} NAME_WE)
    file(APPEND ${output_file} "const std::string_view ${shader_name} = \n")
    file(APPEND ${output_file} "    \"${hex_data}\";\n")
endforeach()
file(APPEND ${output_file} "}\n")